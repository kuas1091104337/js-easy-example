<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>計時器進階組合( 播放、暫停、重新 )</title>
    <link rel="stylesheet" href="./css/10-3.css">
</head>
<body>
    <div>
        <h1 id="timeTxt">0</h1>
        <div class="btn">
            <a id="play">播放</a>
            <a id="stop">暫停</a>
            <a id="reset" class="active">重新</a>
        </div>
    </div>
    <script>
        var btnActive, timerContent, timeSec = 0,
            $timeTxt = document.getElementById('timeTxt');
        document.querySelectorAll('.btn > a').forEach((el,i) => {
            if(el.classList.contains('active')) btnActive = el.id;
            el.addEventListener('click',btnWorks);
        });
        function timeTxtSet(){
            $timeTxt.innerText = timeSec;
        }
        function timerStop(){
            clearInterval(timerContent);
        }
        function timerGo(){
            timeSec++;
            timeTxtSet();
        }
        function btnWorks(){
            if(this.classList.contains('active')) return false;
            document.getElementById(btnActive).classList.remove('active');
            this.classList.add('active');
            btnActive = this.id;
            switch(this.id){
                case 'play' :
                    timerContent = setInterval(timerGo,1000);
                    break;
                case 'stop' :
                    timerStop();
                    break;
                case 'reset' :
                    timerStop();
                    timeSec = 0, timerContent = 0;
                    timeTxtSet();
                    break;
            }
            console.log(timerContent);
        }
        // var timeTxt = document.getElementById('timeTxt');
        // var play = document.getElementById('play');
        // var stop = document.getElementById('stop');
        // var reset = document.getElementById('reset');
        // var playTime = null;
        // var time = 0;
        // var isStop = false;
        // play.addEventListener("click", playFn);
        // stop.addEventListener("click", stopFn);
        // reset.addEventListener('click', resetFn)
        // function playFn(){
        //     play.removeEventListener("click", playFn);
        //     TimeGo();
        //     resetActive();
        //     this.classList.add('active');
        // }
        // function stopFn(){
        //     play.addEventListener("click", playFn);
        //     clearInterval(playTime);
        //     resetActive();
        //     this.classList.add('active');
        // }
        // function resetFn(){
        //     play.removeEventListener("click", playFn);
        //     time = 0;
        //     timeTxt.innerText = time;
        //     resetActive();
        //     this.classList.add('active');
        //     clearInterval(playTime);
        //     setTimeout(function(){
        //         resetActive();
        //         play.addEventListener("click", playFn);
        //     }, 1500);
        // }
        // function TimeGo(){
        //     playTime = setInterval(function(){
        //         time++;
        //         timeTxt.innerText = time;
        //     }, 1000);
        // }
        // function resetActive(){
        //     play.classList.remove('active');
        //     stop.classList.remove('active');
        //     reset.classList.remove('active');
        // }
    </script>
    
</body>
</html>